{"is_source_file": true, "format": "TypeScript", "description": "This file defines an API client using axios for making HTTP requests. It includes configuration of base URL, request/response interceptors for handling authentication tokens and 401 errors, and exports functions to set token/get unauthorized handler and retrieve the configured axios instance.", "external_files": ["../config"], "external_methods": ["getApiBase"], "published": ["setAuthTokenGetter", "setUnauthorizedHandler", "getApiClient"], "classes": [], "methods": [{"name": "export function setAuthTokenGetter(fn: () => string | null): void { setAuthTokenGetter", "description": "Register a function that returns the current Bearer token for requests.", "scope": "", "scopeKind": ""}, {"name": "export function setUnauthorizedHandler(fn: () => void): void { setUnauthorizedHandler", "description": "Register a handler called when a 401 Unauthorized is returned by the API.", "scope": "", "scopeKind": ""}, {"name": "export function getApiClient(): AxiosInstance { getApiClient", "description": "Returns the configured axios instance with interceptors and baseURL applied.", "scope": "", "scopeKind": ""}], "calls": ["axios.create", "getApiBase", "localStorage.getItem", "window.location.href"], "search-terms": ["axios interceptors", "auth token management", "API client configuration", "TypeScript API wrapper"], "state": 2, "file_id": 27, "knowledge_revision": 60, "git_revision": "", "ctags": [{"_type": "tag", "name": "ApiErrorResponse", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286482/Frontend/src/lib/apiClient.ts", "pattern": "/^export type ApiErrorResponse = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "apiClient", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286482/Frontend/src/lib/apiClient.ts", "pattern": "/^const apiClient: AxiosInstance = axios.create({$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "getApiClient", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286482/Frontend/src/lib/apiClient.ts", "pattern": "/^export function getApiClient(): AxiosInstance {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "setAuthTokenGetter", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286482/Frontend/src/lib/apiClient.ts", "pattern": "/^export function setAuthTokenGetter(fn: () => string | null): void {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "setUnauthorizedHandler", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286482/Frontend/src/lib/apiClient.ts", "pattern": "/^export function setUnauthorizedHandler(fn: () => void): void {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286482/Frontend/src/lib/apiClient.ts", "pattern": "/^    const status = error.response?.status;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286482/Frontend/src/lib/apiClient.ts", "pattern": "/^  const token = tokenGetter ? tokenGetter() : (typeof window !== 'undefined' ? localStorage.getI/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "tokenGetter", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286482/Frontend/src/lib/apiClient.ts", "pattern": "/^  const token = tokenGetter ? tokenGetter() : (typeof window !== 'undefined' ? localStorage.getI/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "tokenGetter", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286482/Frontend/src/lib/apiClient.ts", "pattern": "/^let tokenGetter: (() => string | null) | null = null;$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "unauthorizedHandler", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-284073-286482/Frontend/src/lib/apiClient.ts", "pattern": "/^let unauthorizedHandler: (() => void) | null = null;$/", "language": "TypeScript", "kind": "variable"}], "hash": "1d5434b7b09a57c8a0bd7bd40ca0c3a8", "format-version": 4, "code-base-name": "Frontend", "filename": "Frontend/src/lib/apiClient.ts", "fields": [{"name": "let tokenGetter: (() => string | null) | null = null;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "let unauthorizedHandler: (() => void) | null = null;", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"60": ""}]}